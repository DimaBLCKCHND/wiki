### ⚙️ Хардфорк 0.2

// [Старт Bounty-тестирования ХФ 0.2 GOLOS](https://golos.io/ru--golos/@goloscore/start-bounty-testirovaniya-khf-0-2-golos)

Команда GolosCore объявляет старт двухнедельной Bounty-программы. Вы можете поучаствовать в тестировании ХФ 0.2. Распределение Bounty-вознаграждения за найденные неизвестные баги следующее: 

- Мелкие - до 1000 GOLOS
- Средние - 1000-5000 GOLOS, если вы создаете issue на ошибку; 5000 - 10000 GOLOS, если вы исправляете найденную ошибку и создаете pull request
- Критичные - 10000-18000 GOLOS, если вы создаете issue на ошибку; 18000-25000 GOLOS, если вы исправляете найденную ошибку и создаете pull request

Все найденные ошибки просим заводить на гитхаб https://github.com/GolosChain/golos/issues Необходимо предоставить полное описание проблемы, способ репродуцирования, входные и выходные данные, скриншоты (по возможности).

Все pull request просим заводить на гитхаб https://github.com/GolosChain/golos/pulls 

Внимательно проверяйте наличие бага на гитхаб, прежде чем завести новый. Например, на данный момент уже заведены issue #230 и #231.

Решение об уровне критичности бага и объеме вознаграждения будет принимать команда GolosCore. Выплаты Bounty-вознаграждения будут производиться в течение 5 дней с момента заведения issue или pull request.

Тестировать вы можете одним из следующих способов:

- 46.101.132.158:2002 (seed.testnet.golos.io:2002) - для владельцев нод; по данному адресу вы можете получать данные из блокчейн GOLOS через свою ноду. 

- 46.101.132.158:8092 (wss://ws.testnet.golos.io) CHAIN_ID=5876894a41e6361bde2e73278f07340f2eb8b41c2facd29099de9deef6cdb679 - для разработчиков проектов на блокчейне GOLOS; вы можете подключаться к нашим нодам через JSON-RPC интерфейс. 

- https://testnet.golos.io - веб-клиент GOLOS; для поиска багов через тестовый интерфейс golos.io

- https://www.npmjs.com/package/golos-js - для владельцев интерфейсов; используйте последнюю версию golos-js для работы с API.

Обратите, пожалуйста, внимание, что мы ожидаем ошибки, касающиеся функциональности, т.к. разработка UI и перевод интерфейса на текущий момент еще не завершены. В период тестирования мы будем исправлять найденные ошибки и внедрять исправления. В этот момент могут происходить сбои в работе сайта.


Документация по работе GOLOS blockchain:
- https://github.com/GolosChain/golos/tree/master/libraries/protocol/include/golos/protocol/operations
- https://github.com/GolosChain/golos/blob/master/libraries/application/database_api.cpp 
В ближайшее время появится более подробная документация по новому функционалу.

Версию ХФ 0.2 вы можете получить по ссылке: https://github.com/GolosChain/golos/tree/v0.17.0rc5

Мы заранее благодарим всех, кто поучаствует в тестировании ХФ 0.2. 

Спасибо за внимание и хорошего дня,
Команда GolosCore  

// [Началось тестирование хардфорка Голоса](https://golos.io/golosio/@golosio/nachalos-testirovanie-khardforka-golosa)

Команда Golos•Core @goloscore объявила о начале двухнедельного тестирования хардфорка блокчейна Голоса. Разработчики обновленного протокола блокчейна начали кампанию по поиску ошибок в работе и программном коде хардфорка. Документирование каждой найденной ошибки будет вознаграждено в токенах Голоса.

Была поставлена финальная точка в разработке обновленного протокола блокчейна Голоса. Далее делегаты и все желающие сети смогут его тестировать в течение двух недель. Если за это время ошибки в программном коде найдены не будут — через две недели обновления вступят в силу. Если будут найдены какие-либо ошибки, они будут исправлены командой, нашедший ошибки будет вознагражден, а делегаты получат еще две недели на тестирование с момента исправления.

Программный код хардфорка можно можно изучить здесь.

// [ХФ 0.2 Состояние на 26 сентября 2017 г.](https://golos.io/ru--golos/@goloscore/khf-0-2-sostoyanie-na-26-sentyabrya-2017g)

Спешим сообщить, что команда GolosCore активно работает над финальными задачами ХФ 0.2, чтобы выпустить его в скорейшем времени. Осталось доделать не так много в сравнении с уже проделанной работой. Мы очень ценим внимание к нашей работе и волнение за сроки ХФ 0.2. Отдельно спасибо @blockchained и @litrbooh за особый интерес, благодаря которому работа кипит еще сильнее.

Из последних задач готовы и ожидают выпуска в составе ХФ: возможность поиска постов по языкам, реализована корректная интерпретация fixed_string в json операциях, возможность использовать cli_wallet как консольную утилиту.
На данный момент разработка находится в финальной стадии завершения. Основная работа ведется над следующими задачами:

Issue #177 [Refactor asset data storage](https://github.com/GolosChain/golos/issues/177) 
Issue #184 [После вызова get_ticker метода нода перестает отвечать на запросы API.](https://github.com/GolosChain/golos/issues/184) 
Сложность в реализации первой ишью связана с необходимостью поддержки измененной структуры ассета во всех операциях, а также возможность конвертировать их в различных версиях ХФ для поддержания совместимости с протоколом разных версий. Изменения затрагивают базу, функционал интерпретирования во всех операциях, что потребовало значительного рефакторинга и написания большого количества кода.  Наибольшая часть работы по данному ишью выполнена, таким образом, если не возникнет особых осложнений, то мы ожидаем в ближайшее время закрыть данную задачу. Работа над второй также ведется продолжительное время. Команда исправляет некорректную работу API. Возникли некоторые сложности в воспроизведении ошибки. Но уже определено и понятно в чем именно она заключается. Разработчики в процессе исправления этого бага.

// [Дополнения от 01.08.2017](https://golos.io/ru--golos/@golos/khf-0-2-nemnogo-yasnosti-i-trezvosti-hf-0-2-some-clarifications)
В связи со сложностями связанными со сроками предполагаемого ХФ и несерьезностью постоянных сдвигов дат, нами принято решение сообщить дату публично за 7 дней после появление на github финального тега для ХФ.

Подобного рода практика будет применяться и ко всем последующим хардфоркам (которые как и было заявлено на фесте будут содержать до 4-5 серьезных обновлений). Единственное отличие, в том что дата (последующих хф) будет анонсирована при появлении не финального тега, а первого релиз кандидата.
[Полностью - здесь.](https://golos.io/ru--golos/@golos/khf-0-2-nemnogo-yasnosti-i-trezvosti-hf-0-2-some-clarifications)

// [Дополнения от 23 июля 2017 г.](https://golos.io/ru--golos/@golos/khf-0-2-izmenenie-daty-na-02-avgusta-2017g-12-00-gmt-multisig-i-uyazvimsoti) ХФ 0.2 Изменение даты на 02 Августа 2017г 12.00 GMT - иерархический мультисиг и уязвимости
````
После публикации [RC1](https://github.com/GolosChain/golos/releases), который был опубликован на github Голоса в понедельник 17.07.2017. RC был оперативно протестирован некоторыми делегатами, благодаря их оперативной работе (в частности @primus и @litvintech @ropox), были выявлены следующие проблемы:

- Отсутствовало корректное начисление vesting_shares при создании аккаунта через cli_wallet. Исправлено в RC2 (еще не залит на гитхаб)

- Исправление ошибок наличия требуемых ключей для нововведенных операций. Исправлено в RC2

- Отсутствие метода для получения dynamic_asset_data с помощью DatabaseAPI. Исправлено в RC2

- Исправлено время вычисления last_irreversible_block.

- Исправлено начисление account_creation_fee при использовании создания аккаунтов с делегированием vesting_shares.

- Исправлено и устранено дублирование информации об имени и символе ассета. Индексирование ассетов теперь происходит по имени ассета в string, а не asset_symbol_type.

- Добавлено свойство ассета, свидетельствующее о наличии у него asset_bitasset_data_object.

- Основная проблема которая была обнаружена (и остается неисправной) связанна с иерархическим мультисигом (а так как последние события в мире блокчейна, а именно, "взлома" мультисиг кошельков parity, оставляют желать лучшего), нами принято решение придержать эту функцию до следующего ХФ, для дополнительных проверок кодовой базы и уязвимостей к атаке.
В процессе подготовке ХФ и верификации кода на безопасность была выявлена дополнительная проблема которая заключается в правильной сериализации secondary_index в boost::interprocess::shared_memory.

[RC2 (без функции иерархического мультисига) доступен к сборке на гитхабе Голоса](https://github.com/GolosChain/golos/tree/v0.17.0rc2)
````


#### Изменения блокчейна:

~~Динамический выбор параметров сети делегатами, а также разделение делегатских ролей на валидаторов и делегатов: валидаторы (пользователи с рабочим клиентом блокчейна Голос, для подписи блоков сети) и делегаты (пользователи сети, избранные голосованием, имеющие право на параметризацию сети). В связи с вводом возможности динамического выбора параметров сети, мы временно введем возможность 19-ти делегатам на момент проведения хардфорка, также, исполнять роль членов комитета, с возможностью выбора параметров сети. С предстоящим ХФ эта возможность появится без внесения предполагаемого залога за право исполнять роль валидатора для того, чтобы предоставить всем возможность подготовить необходимые суммы до проведения ХФ 0.3.~~

- ~~Стоит заметить, что сразу после проведения ХФ 0.2, у членов комитета появится возможность изменить ранее предполагаемое кол-во “топ” делегатов (минимальное число по умолчанию 11, максимальное не ограничено. Чтобы стать членом комитета не требуется иметь рабочую ноду).~~

##### Примечание от 26 июня 2017: 
``Во избежания недопониманий и раскола во мнениях между делегатами и командой разработки, мы приняли решения об исключении выше упомянутого пункта из предстоящего ХФ 0.2 (это включает в себя не только разделение на роли но и возможности динамического выбора параметров сети. Так как они "продаются пакетом").``

- После проведения ХФ 0.3, роли разделятся окончательно (с добавлением роли транслятора). Это будет означать отдельные ноды валидаторов с предполагаемым залогом и (возможно) отдельные члены комитета, которым не требуется залог.

- Автоматическое обнуление голосов раз в 3 месяца за членов комитета.

- Поддержка multisignature аккаунтов (возможность создавать аккаунты, которым для совершения транзакции, требуется более 1 подписи).

- Поддержка UIA (user issued assets). Это означает возможность выпускать собственные токены (не smart coins) и их использовать, поверх нашего блокчейна. Примеры реализации можно посмотреть на Bitshares.

- Поддержка Smart Coins (монеты обеспеченные произвольными активами, в виде залога, на выбор создателя, выраженным в токенах Голос).

- Ограничение количества постов с 4 в день, увеличится до 8.

- Ограничение на длину ветки комментариев снято.

- Добавлена возможность редактировать посты после 30 дней.

- Выплаты за комментарии теперь не зависят от самого поста.

- Все посты и комментарии теперь получают выплату через 7 дней после написания. Второго окна выплат, больше не будет. У пользователя есть возможность продлить окно выплат на любой период равноправный первоначальному 7 дневному сроку (за определенную сумму в GBG. Сумма будет высылаться на @null). По следующей формуле:
`((input_time - time::now()).to_seconds() * cost_per_day * (1 + 0.1 * cashout_windows_amount) / (60 * 60 * 24) Количество окон выплат = +0.1`

- Фонд вознаграждения комментариев существует отдельно от постов, на уровне 10%.

- Множественные бенефициары вознаграждений за контент (без ГУИ).

- Делегирование Силы Голоса (без ГУИ).

- Аккаунты могут создаваться с меньшей комиссией и изначальным делегированием Силы Голоса.

- Майнинг оставлен в текущем состоянии, до следующего ХФ (в процессе тестирование публичного GPU майнера).

- Разделение пользовательского контента по естественным языкам.

- Снижение Силы Голоса изменено на 20 недель (ошибка с предыдущего релиза).

#### Служебные изменения:

- Управление снапшотами сети занимается отдельный плагин, что позволяет упростить их загрузку и решить проблемы с переиндексацией аккаунтов Steemit.

- Имплементация примитивной версионируемости и вторичного индекса объектов в Chainbase.

- Изменен алгоритм ранжирования вкладки “популярное”, на механизм аналогичный алгоритму вкладки “актуальное”. Это позволит получать более естественную выдачу постов в самой вкладке.

- Встроенный NTP-сервис по умолчанию отключен.

#### Изменения веб-клиента:

- Дополнительная регистрация по СМС.

- Дополнительная регистрация через инвайт по электронной почте.

- Добавлены расширенные опции во вкладке кошелька пользователя, для создания ассетов.

- Обновленная внутренняя биржа, с расширенными возможностями и обновленным user experience.

- Вспомогательная стрелка “вверх” для автоматической прокрутки страницы.

- QR коды, для паролей в кошельке пользователя.

- Добавлена возможность менять язык интерфейса заголовке страницы, без необходимости входа в личный кабинет.

- Добавлены вспомогательные иконки в верхнее меню.

- При создании поста добавлена возможность подгрузки изображений локально с пользовательского устройства.

- Добавлена кнопка продления окна выплат расположенная рядом с кнопкой “Продвинуть”.

- Добавлена возможность вывода ленты постов созданных пользователями на их национальном языке.

- Иконка RocketChat перенесена в верхний правый угол заголовка интерфейса.

- Цветовое оформление страниц теперь в едином стиле.

- Изменилось отображение поста - рядом с автором поста отображается его аватар.

- В комментариях отображается уровень вложенности, для более удобного визуального восприятия.

- Длинные ветки комментариев теперь сворачиваются автоматически.

- При просмотре поста в шапке теперь отображается аватар автора.

- Кнопка “Голосовать за” теперь синего цвета и при наведении оживает при помощи современных технологий css анимации.

- Возможны дополнительные минорные обновления веб клиента.

<hr>Основано на материалах [статьи](https://golos.io/ru--golos/@golos/spisok-predpolagaemykh-izmenenii-predstoyashego-khf-v-odnom-poste-s-obnovlennoi-datoi-samogo-khf-na-10-iyulya-2017-12-00-gmt) от 25 июня 2017 г.<hr>
